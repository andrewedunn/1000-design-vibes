# CLAUDE.md

Instructions for AI assistants working on this project.

## Project Overview

1000 Design Vibes generates unique, self-contained design system showcases. Each design is an HTML file that works as both a visual demo and LLM-readable documentation.

**Current state:** 240 designs across 6 batches. Goal is 1000.

**Key insight**: Designs are generated by Claude Code subagents (Sonnet), not API calls. This produces higher quality output.

## Quick Reference

```bash
# Create a manifest with design seeds
python design_vibes.py manifest --count 100 --name "batch1"

# Check progress (shows resume prompt for incomplete batches)
python design_vibes.py status --path outputs/2026-01-07-batch1

# Rebuild gallery indexes after generation
python design_vibes.py build-indexes

# Browse designs
open outputs/2026-01-07-batch1/designs/index.html
```

## Generating Designs

When asked to generate designs:

1. **Read the manifest** to find design specs
2. **Check what exists** - skip designs already in `designs/` or `.staging/`
3. **Spawn Sonnet agents in parallel** (10-20 at a time) using Task tool
4. Each agent reads `DESIGN_GUIDE_LOOSE.md` and writes to `.staging/`
5. **Validate outputs** (file size > 10KB, has DOCTYPE, style, navigation)
6. **Move valid designs** from `.staging/` to `designs/`
7. Run `build-indexes` to update gallery
8. Repeat until batch complete

### Spawning a Design Agent

```
Task tool with subagent_type="general-purpose", model="sonnet":

Generate design #{id} for 1000 Design Vibes.

Read the design guide at DESIGN_GUIDE_LOOSE.md and manifest for this batch.

The functional_direction "{direction}" is PRIMARY - this MUST look like a {direction}.

Design: {name}
Tagline: {tagline}

Dimensions:
  ui_paradigm: {value}
  design_era: {value}
  functional_direction: {value}
  [etc.]

Write to: outputs/{batch}/.staging/design-{id}.html
Navigation script: TOTAL={total}, CURRENT={id}
```

### Validation Checklist

Before moving from staging:
- File size > 10KB (aim for 25KB+)
- Contains `<!DOCTYPE html>`
- Contains `<style>` block
- Contains `ArrowRight` and `ArrowLeft` navigation handlers
- Clearly reflects the functional_direction

## Multi-Session Batch Execution

For large batches (500+) executed over multiple sessions, see `docs/BATCH_EXECUTION.md`.

The `status` command shows:
- Progress (completed/staging/pending)
- Suggested next batch range
- Ready-to-copy resume prompt

## Architecture

### Key Files

| File | Purpose |
|------|---------|
| `design_vibes.py` | CLI entry point |
| `DESIGN_GUIDE_LOOSE.md` | Instructions for design agents (USE THIS ONE) |
| `DESIGN_GUIDE.md` | Original strict guide (deprecated) |
| `src/dimensions.py` | 35 dimensions, 412 values, 158 functional directions |
| `src/manifest.py` | Manifest generation |
| `src/naming.py` | Creative name generation |
| `src/index.py` | Gallery builder |
| `src/status.py` | Progress reporting with resume prompts |

### Output Structure

```
outputs/{date}-{name}/
  manifest.json     # Design seeds
  failures.json     # Failed attempts (if any)
  .staging/         # In-progress designs
  designs/
    index.html      # Batch gallery
    design-1.html   # Completed designs
    ...
```

## Key Design Decisions

1. **Claude Code Sonnet agents** - Not Haiku or API; Sonnet produces best quality
2. **Self-contained HTML** - Only Google Fonts as external dependency
3. **Date-stamped outputs** - Each run is isolated
4. **Staging folder** - Validate before accepting
5. **Parallel agents** - 10-20 at a time for speed
6. **Functional direction is PRIMARY** - The `functional_direction` dimension drives page structure and required components. A dashboard must look like a dashboard, a Windows 95 UI must look like Windows 95.

## Code Style

- All Python files start with 2-line `# ABOUTME:` comment
- Match existing patterns
- Keep dependencies minimal

## Key Docs

| Doc | Purpose |
|-----|---------|
| [ROADMAP.md](docs/ROADMAP.md) | Version history, experiments log, future plans |
| [BATCH_EXECUTION.md](docs/BATCH_EXECUTION.md) | Multi-session batch guide with resume instructions |
| [DESIGN_GUIDE_LOOSE.md](DESIGN_GUIDE_LOOSE.md) | Agent instructions for generating designs |
