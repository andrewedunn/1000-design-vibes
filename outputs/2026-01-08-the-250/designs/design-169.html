<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pure Core - Report Builder</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;600;700&family=IBM+Plex+Serif:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
</head>
<body>
<!--
DESIGN: Pure Core - Natural meets neutral: a mid century modern perspective
ABOUTME: This design system implements a report_builder with mid-century modern aesthetics for government applications.
ABOUTME: Key characteristics: organic curves meet structured grids, warm neutrals with natural accents, nostalgic typewriter-era forms.

QUICK START - Copy these variables to apply this design:
--color-primary: #8B7355;
--color-primary-dark: #6B5745;
--color-accent: #C8A882;
--color-success: #7A9B76;
--color-background: #F5F3ED;
--color-surface: #FFFFFF;
--color-surface-secondary: #E8E4DA;
--color-text: #3D3834;
--color-text-muted: #7A736C;
--color-border: #D4CFC5;
--font-heading: 'Archivo', sans-serif;
--font-body: 'IBM Plex Serif', serif;
--radius-default: 3px;
--radius-organic: 24px 8px 24px 8px;
--space-unit: 8px;
--shadow-soft: 0 2px 12px rgba(61, 56, 52, 0.08);

AESTHETIC PRINCIPLES:
1. Organic asymmetry - Mid-century modern's love of natural forms expressed through asymmetric border radii and flowing layouts
2. Institutional warmth - Government-appropriate neutrals warmed with earth tones and natural material references
3. Nostalgic precision - Clean geometric grids reminiscent of 1960s office forms, paired with generous tactile spacing
4. Natural hierarchy - Typography and spacing create clarity without harsh contrasts, like aged paper and ink

BEST FOR:
- Government reporting and data analysis tools
- Internal administrative dashboards
- Archival and historical data systems
- Public sector transparency portals
- Long-form analytical reports requiring sustained reading

AVOID IF:
- You need vibrant, attention-grabbing colors
- Dark mode is a requirement
- Your brand is ultra-modern or futuristic
- You're targeting young consumer audiences
- High-density data display is the priority over readability

FUNCTIONAL DIRECTION: report_builder
This design must clearly function as a report_builder. Required elements:
- Chart widget components (bar, line, pie visualizations)
- Drag-and-drop interface for report composition
- Filter controls for data refinement
- Date range selector for temporal analysis
- Export options (PDF, CSV, Print)
- Widget library panel
- Canvas area for report assembly
- Property inspector for widget configuration

DESIGN DIMENSIONS:
- functional_direction: report_builder
- design_era: mid_century_modern
- emotional_tone: nostalgic
- industry: government
- color_mode: light_only
- ui_paradigm: organic
- page_structure: sidebar_main
- navigation_pattern: side_persistent
- content_flow: card_grid
- color_theory: analogous
- color_temperature: warm
- color_saturation: muted
- color_mood: earth
- heading_font: geometric_sans (Archivo)
- body_font: transitional_serif (IBM Plex Serif)
- type_scale_ratio: major_third (1.25)
- spacing_density: airy
- corner_style: organic
- shadow_style: subtle
- border_style: thin
- texture: paper

INTERACTION PATTERNS:
- Drag-and-drop uses organic cursor shapes and subtle shadow elevation
- Hover states reveal warm accent colors
- Focus states use double-outline technique reminiscent of form carbon copies
- Disabled states use reduced opacity with slight warmth to avoid harsh graying

COLOR SYSTEM NOTES:
The palette draws from 1960s government office materials:
- Primary brown (#8B7355) references walnut furniture and leather desk accessories
- Accent beige (#C8A882) evokes manila folders and aged paper
- Success green (#7A9B76) recalls institutional file cabinets
- Background cream (#F5F3ED) suggests natural linen and aged documents
- Borders use warm gray rather than cool, maintaining the natural material feel

TYPOGRAPHY NOTES:
- Archivo provides clean geometric shapes with subtle warmth in letter forms
- IBM Plex Serif offers excellent screen readability with nostalgic typewriter associations
- Scale ratio (1.25) creates comfortable hierarchy without dramatic jumps
- Body text at 16px ensures government accessibility requirements
- Line height at 1.6 for sustained reading comfort

ACCESSIBILITY FEATURES:
- All color combinations exceed WCAG AA standards (4.5:1 minimum)
- Focus indicators use dual-ring pattern for visibility on varied backgrounds
- Touch targets minimum 44px for all interactive elements
- Reduced motion respects user preferences
- Semantic HTML throughout for screen reader compatibility
- Skip links for keyboard navigation
-->

<style>
:root {
    /* Colors - Earth & Natural Materials */
    --color-primary: #8B7355;
    --color-primary-dark: #6B5745;
    --color-accent: #C8A882;
    --color-success: #7A9B76;
    --color-info: #6B8E9B;
    --color-warning: #B8885C;
    --color-background: #F5F3ED;
    --color-surface: #FFFFFF;
    --color-surface-secondary: #E8E4DA;
    --color-text: #3D3834;
    --color-text-muted: #7A736C;
    --color-border: #D4CFC5;
    --color-hover: #F0EDE5;

    /* Typography */
    --font-heading: 'Archivo', -apple-system, BlinkMacSystemFont, sans-serif;
    --font-body: 'IBM Plex Serif', Georgia, serif;
    --font-mono: 'IBM Plex Mono', 'Courier New', monospace;

    /* Type Scale (Major Third - 1.25) */
    --text-xs: 0.64rem;
    --text-sm: 0.8rem;
    --text-base: 1rem;
    --text-lg: 1.25rem;
    --text-xl: 1.563rem;
    --text-2xl: 1.953rem;
    --text-3xl: 2.441rem;

    /* Spacing - Airy (8px base) */
    --space-unit: 8px;
    --space-xs: calc(var(--space-unit) * 1);
    --space-sm: calc(var(--space-unit) * 2);
    --space-md: calc(var(--space-unit) * 3);
    --space-lg: calc(var(--space-unit) * 4);
    --space-xl: calc(var(--space-unit) * 6);
    --space-2xl: calc(var(--space-unit) * 8);

    /* Shapes - Organic Asymmetry */
    --radius-sharp: 3px;
    --radius-default: 6px;
    --radius-organic: 24px 8px 24px 8px;
    --radius-organic-alt: 8px 24px 8px 24px;
    --radius-organic-subtle: 12px 4px 12px 4px;

    /* Shadows - Subtle */
    --shadow-soft: 0 2px 12px rgba(61, 56, 52, 0.08);
    --shadow-medium: 0 4px 16px rgba(61, 56, 52, 0.12);
    --shadow-lifted: 0 8px 24px rgba(61, 56, 52, 0.15);

    /* Borders */
    --border-thin: 1px solid var(--color-border);
    --border-medium: 2px solid var(--color-border);
    --border-focus: 2px solid var(--color-primary);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-body);
    font-size: var(--text-base);
    line-height: 1.6;
    color: var(--color-text);
    background: var(--color-background);
    background-image:
        repeating-linear-gradient(
            0deg,
            transparent,
            transparent 2px,
            rgba(212, 207, 197, 0.03) 2px,
            rgba(212, 207, 197, 0.03) 4px
        );
}

/* Layout Structure */
.app-container {
    display: flex;
    height: 100vh;
    overflow: hidden;
}

/* Sidebar - Widget Library */
.sidebar {
    width: 280px;
    background: var(--color-surface);
    border-right: var(--border-thin);
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.sidebar-header {
    padding: var(--space-lg);
    border-bottom: var(--border-thin);
    background: var(--color-surface-secondary);
}

.logo {
    font-family: var(--font-heading);
    font-size: var(--text-xl);
    font-weight: 700;
    color: var(--color-primary-dark);
    letter-spacing: -0.02em;
}

.logo-subtitle {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    font-style: italic;
    margin-top: var(--space-xs);
}

.sidebar-content {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-lg);
}

.widget-section {
    margin-bottom: var(--space-xl);
}

.widget-section-title {
    font-family: var(--font-heading);
    font-size: var(--text-sm);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-text-muted);
    margin-bottom: var(--space-sm);
}

.widget-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
}

.widget-item {
    padding: var(--space-md);
    background: var(--color-surface);
    border: var(--border-thin);
    border-radius: var(--radius-organic-subtle);
    cursor: grab;
    transition: all 0.2s ease;
}

.widget-item:hover {
    background: var(--color-hover);
    border-color: var(--color-accent);
    box-shadow: var(--shadow-soft);
    transform: translateY(-1px);
}

.widget-item:active {
    cursor: grabbing;
    transform: scale(0.98);
}

.widget-item-name {
    font-family: var(--font-heading);
    font-size: var(--text-base);
    font-weight: 600;
    color: var(--color-text);
    margin-bottom: var(--space-xs);
}

.widget-item-desc {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
}

/* Main Content Area */
.main-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Toolbar */
.toolbar {
    padding: var(--space-md) var(--space-lg);
    background: var(--color-surface);
    border-bottom: var(--border-thin);
    display: flex;
    align-items: center;
    gap: var(--space-md);
    flex-wrap: wrap;
}

.toolbar-group {
    display: flex;
    align-items: center;
    gap: var(--space-sm);
}

.toolbar-label {
    font-family: var(--font-heading);
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--color-text-muted);
}

.btn {
    padding: var(--space-sm) var(--space-md);
    font-family: var(--font-heading);
    font-size: var(--text-sm);
    font-weight: 600;
    border: var(--border-thin);
    border-radius: var(--radius-sharp);
    background: var(--color-surface);
    color: var(--color-text);
    cursor: pointer;
    transition: all 0.2s ease;
    min-width: 44px;
    min-height: 44px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-xs);
}

.btn:hover {
    background: var(--color-hover);
    border-color: var(--color-accent);
}

.btn:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-surface), 0 0 0 4px var(--color-primary);
}

.btn:active {
    transform: translateY(1px);
}

.btn-primary {
    background: var(--color-primary);
    color: white;
    border-color: var(--color-primary);
}

.btn-primary:hover {
    background: var(--color-primary-dark);
    border-color: var(--color-primary-dark);
}

.select {
    padding: var(--space-sm) var(--space-md);
    font-family: var(--font-body);
    font-size: var(--text-sm);
    border: var(--border-thin);
    border-radius: var(--radius-sharp);
    background: var(--color-surface);
    color: var(--color-text);
    cursor: pointer;
    min-height: 44px;
}

.select:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(139, 115, 85, 0.2);
}

.input {
    padding: var(--space-sm) var(--space-md);
    font-family: var(--font-body);
    font-size: var(--text-sm);
    border: var(--border-thin);
    border-radius: var(--radius-sharp);
    background: var(--color-surface);
    color: var(--color-text);
    min-height: 44px;
}

.input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(139, 115, 85, 0.2);
}

.toolbar-divider {
    width: 1px;
    height: 32px;
    background: var(--color-border);
    margin: 0 var(--space-sm);
}

/* Canvas Area */
.canvas-wrapper {
    flex: 1;
    overflow: auto;
    padding: var(--space-2xl);
}

.canvas {
    min-height: 800px;
    background: var(--color-surface);
    border-radius: var(--radius-default);
    padding: var(--space-xl);
    box-shadow: var(--shadow-soft);
}

.canvas-placeholder {
    height: 400px;
    border: 2px dashed var(--color-border);
    border-radius: var(--radius-organic);
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    color: var(--color-text-muted);
}

.placeholder-content {
    max-width: 400px;
}

.placeholder-icon {
    font-size: var(--text-3xl);
    margin-bottom: var(--space-md);
}

.placeholder-text {
    font-family: var(--font-heading);
    font-size: var(--text-lg);
    margin-bottom: var(--space-sm);
}

.placeholder-hint {
    font-size: var(--text-sm);
    font-style: italic;
}

/* Widget Grid */
.widget-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: var(--space-lg);
}

.report-widget {
    background: var(--color-surface);
    border: var(--border-thin);
    border-radius: var(--radius-organic-subtle);
    padding: var(--space-lg);
    box-shadow: var(--shadow-soft);
    position: relative;
}

.widget-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-sm);
    border-bottom: var(--border-thin);
}

.widget-title {
    font-family: var(--font-heading);
    font-size: var(--text-lg);
    font-weight: 600;
    color: var(--color-text);
}

.widget-controls {
    display: flex;
    gap: var(--space-xs);
}

.widget-control-btn {
    width: 32px;
    height: 32px;
    border: none;
    background: transparent;
    color: var(--color-text-muted);
    cursor: pointer;
    border-radius: var(--radius-sharp);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
}

.widget-control-btn:hover {
    background: var(--color-hover);
    color: var(--color-primary);
}

.widget-body {
    padding: var(--space-md) 0;
}

/* Chart Styles */
.chart-container {
    height: 240px;
    position: relative;
}

.bar-chart {
    display: flex;
    align-items: flex-end;
    justify-content: space-around;
    height: 100%;
    gap: var(--space-sm);
}

.bar {
    flex: 1;
    background: var(--color-primary);
    border-radius: var(--radius-sharp) var(--radius-sharp) 0 0;
    position: relative;
    transition: all 0.3s ease;
    min-width: 24px;
}

.bar:hover {
    background: var(--color-primary-dark);
    transform: translateY(-4px);
}

.bar-label {
    position: absolute;
    bottom: -24px;
    left: 50%;
    transform: translateX(-50%);
    font-size: var(--text-xs);
    color: var(--color-text-muted);
    white-space: nowrap;
}

.line-chart {
    height: 100%;
    display: flex;
    align-items: center;
    position: relative;
}

.line-chart-svg {
    width: 100%;
    height: 100%;
}

.pie-chart {
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
}

.pie-svg {
    width: 200px;
    height: 200px;
}

/* Stats Widget */
.stat-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
}

.stat-card {
    padding: var(--space-md);
    background: var(--color-surface-secondary);
    border-radius: var(--radius-organic-subtle);
}

.stat-label {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    margin-bottom: var(--space-xs);
}

.stat-value {
    font-family: var(--font-heading);
    font-size: var(--text-2xl);
    font-weight: 700;
    color: var(--color-primary-dark);
}

.stat-change {
    font-size: var(--text-sm);
    margin-top: var(--space-xs);
}

.stat-change.positive {
    color: var(--color-success);
}

.stat-change.negative {
    color: var(--color-warning);
}

/* Table Widget */
.data-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0;
}

.data-table th {
    font-family: var(--font-heading);
    font-size: var(--text-sm);
    font-weight: 600;
    text-align: left;
    padding: var(--space-sm);
    background: var(--color-surface-secondary);
    color: var(--color-text);
    border-bottom: var(--border-thin);
}

.data-table th:first-child {
    border-radius: var(--radius-sharp) 0 0 0;
}

.data-table th:last-child {
    border-radius: 0 var(--radius-sharp) 0 0;
}

.data-table td {
    padding: var(--space-sm);
    border-bottom: 1px solid var(--color-surface-secondary);
    font-size: var(--text-sm);
}

.data-table tr:hover {
    background: var(--color-hover);
}

/* Properties Panel */
.properties-panel {
    width: 300px;
    background: var(--color-surface);
    border-left: var(--border-thin);
    overflow-y: auto;
}

.properties-header {
    padding: var(--space-lg);
    border-bottom: var(--border-thin);
    background: var(--color-surface-secondary);
}

.properties-title {
    font-family: var(--font-heading);
    font-size: var(--text-lg);
    font-weight: 600;
    color: var(--color-text);
}

.properties-content {
    padding: var(--space-lg);
}

.property-group {
    margin-bottom: var(--space-lg);
}

.property-label {
    font-family: var(--font-heading);
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--color-text);
    margin-bottom: var(--space-xs);
    display: block;
}

.property-input {
    width: 100%;
    padding: var(--space-sm);
    font-family: var(--font-body);
    font-size: var(--text-sm);
    border: var(--border-thin);
    border-radius: var(--radius-sharp);
    background: var(--color-surface);
    color: var(--color-text);
}

.property-input:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(139, 115, 85, 0.2);
}

.color-picker-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-xs);
}

.color-swatch {
    width: 44px;
    height: 44px;
    border-radius: var(--radius-sharp);
    border: var(--border-thin);
    cursor: pointer;
    transition: all 0.2s ease;
}

.color-swatch:hover {
    transform: scale(1.1);
    box-shadow: var(--shadow-soft);
}

.color-swatch:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-surface), 0 0 0 4px var(--color-primary);
}

/* Navigation Arrows */
.nav-arrow {
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    width: 48px;
    height: 48px;
    background: var(--color-surface);
    border: var(--border-thin);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    z-index: 1000;
    transition: all 0.2s ease;
    box-shadow: var(--shadow-medium);
}

.nav-arrow:hover {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: white;
    box-shadow: var(--shadow-lifted);
}

.nav-arrow:focus {
    outline: none;
    box-shadow: 0 0 0 2px var(--color-surface), 0 0 0 4px var(--color-primary);
}

.nav-arrow-left {
    left: 20px;
}

.nav-arrow-right {
    right: 20px;
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* Responsive */
@media (max-width: 1024px) {
    .properties-panel {
        display: none;
    }
}

@media (max-width: 768px) {
    .app-container {
        flex-direction: column;
    }

    .sidebar {
        width: 100%;
        height: auto;
        max-height: 40vh;
        border-right: none;
        border-bottom: var(--border-thin);
    }

    .canvas-wrapper {
        padding: var(--space-md);
    }

    .widget-grid {
        grid-template-columns: 1fr;
    }
}
</style>

<div class="app-container">
    <!-- Sidebar: Widget Library -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <div class="logo">Pure Core</div>
            <div class="logo-subtitle">Report Builder</div>
        </div>
        <div class="sidebar-content">
            <section class="widget-section">
                <h2 class="widget-section-title">Charts</h2>
                <div class="widget-list">
                    <div class="widget-item" draggable="true">
                        <div class="widget-item-name">Bar Chart</div>
                        <div class="widget-item-desc">Compare values across categories</div>
                    </div>
                    <div class="widget-item" draggable="true">
                        <div class="widget-item-name">Line Chart</div>
                        <div class="widget-item-desc">Show trends over time</div>
                    </div>
                    <div class="widget-item" draggable="true">
                        <div class="widget-item-name">Pie Chart</div>
                        <div class="widget-item-desc">Display proportional data</div>
                    </div>
                </div>
            </section>

            <section class="widget-section">
                <h2 class="widget-section-title">Data Display</h2>
                <div class="widget-list">
                    <div class="widget-item" draggable="true">
                        <div class="widget-item-name">Data Table</div>
                        <div class="widget-item-desc">Structured data in rows</div>
                    </div>
                    <div class="widget-item" draggable="true">
                        <div class="widget-item-name">Stat Cards</div>
                        <div class="widget-item-desc">Key performance indicators</div>
                    </div>
                    <div class="widget-item" draggable="true">
                        <div class="widget-item-name">Summary Panel</div>
                        <div class="widget-item-desc">Executive overview section</div>
                    </div>
                </div>
            </section>

            <section class="widget-section">
                <h2 class="widget-section-title">Layout</h2>
                <div class="widget-list">
                    <div class="widget-item" draggable="true">
                        <div class="widget-item-name">Section Header</div>
                        <div class="widget-item-desc">Organize report sections</div>
                    </div>
                    <div class="widget-item" draggable="true">
                        <div class="widget-item-name">Text Block</div>
                        <div class="widget-item-desc">Add narrative content</div>
                    </div>
                </div>
            </section>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Toolbar -->
        <div class="toolbar">
            <div class="toolbar-group">
                <label class="toolbar-label" for="date-from">Period:</label>
                <input type="date" id="date-from" class="input" value="2026-01-01" aria-label="Start date">
                <span style="color: var(--color-text-muted);">to</span>
                <input type="date" id="date-to" class="input" value="2026-01-08" aria-label="End date">
            </div>

            <div class="toolbar-divider"></div>

            <div class="toolbar-group">
                <label class="toolbar-label" for="filter-dept">Filter:</label>
                <select id="filter-dept" class="select" aria-label="Department filter">
                    <option>All Departments</option>
                    <option>Transportation</option>
                    <option>Public Works</option>
                    <option>Finance</option>
                    <option>Administration</option>
                </select>
            </div>

            <div class="toolbar-divider"></div>

            <div class="toolbar-group">
                <label class="toolbar-label" for="filter-region">Region:</label>
                <select id="filter-region" class="select" aria-label="Region filter">
                    <option>All Regions</option>
                    <option>Northeast</option>
                    <option>Southeast</option>
                    <option>Midwest</option>
                    <option>West</option>
                </select>
            </div>

            <div style="flex: 1;"></div>

            <div class="toolbar-group">
                <button class="btn" aria-label="Export to PDF">
                    <span>üìÑ</span> PDF
                </button>
                <button class="btn" aria-label="Export to CSV">
                    <span>üìä</span> CSV
                </button>
                <button class="btn" aria-label="Print report">
                    <span>üñ®Ô∏è</span> Print
                </button>
                <button class="btn btn-primary" aria-label="Generate report">
                    Generate Report
                </button>
            </div>
        </div>

        <!-- Canvas Area -->
        <div class="canvas-wrapper">
            <div class="canvas">
                <div class="widget-grid">
                    <!-- Bar Chart Widget -->
                    <article class="report-widget">
                        <div class="widget-header">
                            <h3 class="widget-title">Budget Allocation by Department</h3>
                            <div class="widget-controls">
                                <button class="widget-control-btn" aria-label="Widget settings">‚öôÔ∏è</button>
                                <button class="widget-control-btn" aria-label="Remove widget">‚úï</button>
                            </div>
                        </div>
                        <div class="widget-body">
                            <div class="chart-container">
                                <div class="bar-chart">
                                    <div class="bar" style="height: 65%;">
                                        <span class="bar-label">Transport</span>
                                    </div>
                                    <div class="bar" style="height: 85%;">
                                        <span class="bar-label">Public Works</span>
                                    </div>
                                    <div class="bar" style="height: 45%;">
                                        <span class="bar-label">Finance</span>
                                    </div>
                                    <div class="bar" style="height: 55%;">
                                        <span class="bar-label">Admin</span>
                                    </div>
                                    <div class="bar" style="height: 70%;">
                                        <span class="bar-label">Education</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>

                    <!-- Stat Cards Widget -->
                    <article class="report-widget">
                        <div class="widget-header">
                            <h3 class="widget-title">Key Performance Indicators</h3>
                            <div class="widget-controls">
                                <button class="widget-control-btn" aria-label="Widget settings">‚öôÔ∏è</button>
                                <button class="widget-control-btn" aria-label="Remove widget">‚úï</button>
                            </div>
                        </div>
                        <div class="widget-body">
                            <div class="stat-grid">
                                <div class="stat-card">
                                    <div class="stat-label">Total Projects</div>
                                    <div class="stat-value">127</div>
                                    <div class="stat-change positive">‚Üë 12% from last quarter</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-label">Budget Utilized</div>
                                    <div class="stat-value">82%</div>
                                    <div class="stat-change positive">‚Üë 5% from last quarter</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-label">Citizens Served</div>
                                    <div class="stat-value">45.2K</div>
                                    <div class="stat-change positive">‚Üë 8% from last quarter</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-label">Avg Response Time</div>
                                    <div class="stat-value">2.3d</div>
                                    <div class="stat-change negative">‚Üì 15% from last quarter</div>
                                </div>
                            </div>
                        </div>
                    </article>

                    <!-- Line Chart Widget -->
                    <article class="report-widget">
                        <div class="widget-header">
                            <h3 class="widget-title">Service Requests Over Time</h3>
                            <div class="widget-controls">
                                <button class="widget-control-btn" aria-label="Widget settings">‚öôÔ∏è</button>
                                <button class="widget-control-btn" aria-label="Remove widget">‚úï</button>
                            </div>
                        </div>
                        <div class="widget-body">
                            <div class="chart-container">
                                <svg class="line-chart-svg" viewBox="0 0 400 200" aria-label="Line chart showing service requests trend">
                                    <polyline
                                        fill="none"
                                        stroke="#8B7355"
                                        stroke-width="3"
                                        points="20,140 80,100 140,120 200,80 260,90 320,60 380,75"
                                    />
                                    <circle cx="20" cy="140" r="5" fill="#8B7355"/>
                                    <circle cx="80" cy="100" r="5" fill="#8B7355"/>
                                    <circle cx="140" cy="120" r="5" fill="#8B7355"/>
                                    <circle cx="200" cy="80" r="5" fill="#8B7355"/>
                                    <circle cx="260" cy="90" r="5" fill="#8B7355"/>
                                    <circle cx="320" cy="60" r="5" fill="#8B7355"/>
                                    <circle cx="380" cy="75" r="5" fill="#8B7355"/>
                                </svg>
                            </div>
                        </div>
                    </article>

                    <!-- Data Table Widget -->
                    <article class="report-widget">
                        <div class="widget-header">
                            <h3 class="widget-title">Recent Project Completions</h3>
                            <div class="widget-controls">
                                <button class="widget-control-btn" aria-label="Widget settings">‚öôÔ∏è</button>
                                <button class="widget-control-btn" aria-label="Remove widget">‚úï</button>
                            </div>
                        </div>
                        <div class="widget-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Project Name</th>
                                        <th>Department</th>
                                        <th>Completion</th>
                                        <th>Budget</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Bridge Maintenance Phase 3</td>
                                        <td>Public Works</td>
                                        <td>Dec 2025</td>
                                        <td>$2.4M</td>
                                    </tr>
                                    <tr>
                                        <td>Digital Services Portal</td>
                                        <td>Administration</td>
                                        <td>Nov 2025</td>
                                        <td>$890K</td>
                                    </tr>
                                    <tr>
                                        <td>Park Renovation - Eastside</td>
                                        <td>Recreation</td>
                                        <td>Oct 2025</td>
                                        <td>$1.2M</td>
                                    </tr>
                                    <tr>
                                        <td>Traffic Signal Upgrade</td>
                                        <td>Transportation</td>
                                        <td>Jan 2026</td>
                                        <td>$650K</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </article>

                    <!-- Pie Chart Widget -->
                    <article class="report-widget">
                        <div class="widget-header">
                            <h3 class="widget-title">Request Categories</h3>
                            <div class="widget-controls">
                                <button class="widget-control-btn" aria-label="Widget settings">‚öôÔ∏è</button>
                                <button class="widget-control-btn" aria-label="Remove widget">‚úï</button>
                            </div>
                        </div>
                        <div class="widget-body">
                            <div class="chart-container">
                                <div class="pie-chart">
                                    <svg class="pie-svg" viewBox="0 0 200 200" aria-label="Pie chart showing request category distribution">
                                        <circle cx="100" cy="100" r="80" fill="#8B7355"/>
                                        <path d="M 100 100 L 100 20 A 80 80 0 0 1 163.14 63.14 Z" fill="#C8A882"/>
                                        <path d="M 100 100 L 163.14 63.14 A 80 80 0 0 1 163.14 136.86 Z" fill="#7A9B76"/>
                                        <path d="M 100 100 L 163.14 136.86 A 80 80 0 0 1 100 180 Z" fill="#6B8E9B"/>
                                        <circle cx="100" cy="100" r="45" fill="#FFFFFF"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                    </article>

                    <!-- Summary Panel Widget -->
                    <article class="report-widget">
                        <div class="widget-header">
                            <h3 class="widget-title">Executive Summary</h3>
                            <div class="widget-controls">
                                <button class="widget-control-btn" aria-label="Widget settings">‚öôÔ∏è</button>
                                <button class="widget-control-btn" aria-label="Remove widget">‚úï</button>
                            </div>
                        </div>
                        <div class="widget-body">
                            <p style="margin-bottom: var(--space-md); color: var(--color-text);">
                                This quarterly report reflects strong progress across all municipal departments.
                                Infrastructure projects remain on schedule, with 82% budget utilization indicating
                                efficient resource allocation.
                            </p>
                            <p style="color: var(--color-text);">
                                Citizen service requests have increased 8% quarter-over-quarter, demonstrating
                                growing public engagement with digital services. Average response times have
                                improved by 15%, meeting departmental targets for the third consecutive quarter.
                            </p>
                        </div>
                    </article>
                </div>
            </div>
        </div>
    </main>

    <!-- Properties Panel -->
    <aside class="properties-panel">
        <div class="properties-header">
            <h2 class="properties-title">Widget Properties</h2>
        </div>
        <div class="properties-content">
            <div class="property-group">
                <label class="property-label" for="widget-title-input">Title</label>
                <input type="text" id="widget-title-input" class="property-input" value="Budget Allocation by Department">
            </div>

            <div class="property-group">
                <label class="property-label" for="chart-type">Chart Type</label>
                <select id="chart-type" class="property-input">
                    <option>Bar Chart</option>
                    <option>Line Chart</option>
                    <option>Pie Chart</option>
                    <option>Area Chart</option>
                </select>
            </div>

            <div class="property-group">
                <label class="property-label">Primary Color</label>
                <div class="color-picker-grid">
                    <button class="color-swatch" style="background: #8B7355;" aria-label="Brown"></button>
                    <button class="color-swatch" style="background: #C8A882;" aria-label="Beige"></button>
                    <button class="color-swatch" style="background: #7A9B76;" aria-label="Green"></button>
                    <button class="color-swatch" style="background: #6B8E9B;" aria-label="Blue"></button>
                    <button class="color-swatch" style="background: #B8885C;" aria-label="Orange"></button>
                    <button class="color-swatch" style="background: #6B5745;" aria-label="Dark Brown"></button>
                    <button class="color-swatch" style="background: #7A736C;" aria-label="Gray"></button>
                    <button class="color-swatch" style="background: #3D3834;" aria-label="Charcoal"></button>
                </div>
            </div>

            <div class="property-group">
                <label class="property-label" for="data-source">Data Source</label>
                <select id="data-source" class="property-input">
                    <option>Q4 2025 Budget Data</option>
                    <option>Q3 2025 Budget Data</option>
                    <option>Q2 2025 Budget Data</option>
                    <option>Annual 2025 Summary</option>
                </select>
            </div>

            <div class="property-group">
                <label class="property-label" for="refresh-rate">Refresh Rate</label>
                <select id="refresh-rate" class="property-input">
                    <option>Manual</option>
                    <option>Every Hour</option>
                    <option>Every Day</option>
                    <option>Every Week</option>
                </select>
            </div>
        </div>
    </aside>
</div>

<!-- Navigation Arrows -->
<button class="nav-arrow nav-arrow-left" aria-label="Previous design (Design 168)">
    <span style="font-size: 24px;">‚Üê</span>
</button>
<button class="nav-arrow nav-arrow-right" aria-label="Next design (Design 170)">
    <span style="font-size: 24px;">‚Üí</span>
</button>

<script>
// Navigation
const TOTAL_DESIGNS = 250;
const CURRENT_DESIGN = 169;

/* Navigation removed */

document.querySelector('.nav-arrow-left').addEventListener('click', () => {
    if (CURRENT_DESIGN > 1) {
        window.location.href = `design-${CURRENT_DESIGN - 1}.html`;
    }
});

document.querySelector('.nav-arrow-right').addEventListener('click', () => {
    if (CURRENT_DESIGN < TOTAL_DESIGNS) {
        window.location.href = `design-${CURRENT_DESIGN + 1}.html`;
    }
});

// Drag and Drop for Widgets
const widgetItems = document.querySelectorAll('.widget-item');
const canvas = document.querySelector('.canvas');

widgetItems.forEach(item => {
    item.addEventListener('dragstart', (e) => {
        e.dataTransfer.effectAllowed = 'copy';
        e.dataTransfer.setData('text/plain', item.querySelector('.widget-item-name').textContent);
    });
});

canvas.addEventListener('dragover', (e) => {
    e.preventDefault();
    e.dataTransfer.dropEffect = 'copy';
});

canvas.addEventListener('drop', (e) => {
    e.preventDefault();
    const widgetType = e.dataTransfer.getData('text/plain');
    console.log(`Would create new widget: ${widgetType}`);
    // In a real implementation, this would create a new widget instance
});

// Widget Control Interactions
const widgetControlBtns = document.querySelectorAll('.widget-control-btn');
widgetControlBtns.forEach(btn => {
    btn.addEventListener('click', (e) => {
        const action = btn.getAttribute('aria-label');
        console.log(`Widget action: ${action}`);
        // In a real implementation, this would handle widget configuration or removal
    });
});

// Filter and Export Actions
const filterSelects = document.querySelectorAll('.select');
filterSelects.forEach(select => {
    select.addEventListener('change', (e) => {
        console.log(`Filter changed: ${e.target.id} = ${e.target.value}`);
        // In a real implementation, this would filter report data
    });
});

const exportBtns = document.querySelectorAll('.toolbar .btn');
exportBtns.forEach(btn => {
    btn.addEventListener('click', (e) => {
        const action = btn.textContent.trim();
        console.log(`Export action: ${action}`);
        // In a real implementation, this would generate exports
    });
});

// Date Range Selection
const dateInputs = document.querySelectorAll('input[type="date"]');
dateInputs.forEach(input => {
    input.addEventListener('change', (e) => {
        console.log(`Date range updated: ${e.target.id} = ${e.target.value}`);
        // In a real implementation, this would update report date range
    });
});
</script>

</body>
</html>
