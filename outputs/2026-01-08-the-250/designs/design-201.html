<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meadow Urban - Natural vibes for real estate</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@400;500;700&family=Work+Sans:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>

<!--
DESIGN: Meadow Urban - Natural vibes for real estate
ABOUTME: This design system implements a calculator with Bauhaus aesthetics.
ABOUTME: Key characteristics: Geometric precision, functional clarity, earth-toned natural palette

QUICK START - Copy these variables to apply this design:
--color-primary: #6B8E23;
--color-secondary: #D4A574;
--color-accent: #4A7C59;
--color-background: #F5F5DC;
--color-surface: #FFFFFF;
--color-text: #2C3E50;
--color-text-muted: #7F8C8D;
--color-border: #B8B5A0;
--font-heading: 'Barlow', sans-serif;
--font-body: 'Work Sans', sans-serif;
--radius-default: 2px;
--space-unit: 8px;

AESTHETIC PRINCIPLES:
1. Bauhaus geometric precision meets natural earth tones - circles and rectangles create functional beauty
2. Primary green connects real estate (property/land) with calculation clarity
3. Generous spacing and clean grid layout emphasize usability and trust
4. Sharp minimal corners (2px) maintain professional calculator functionality
5. Light beige background evokes natural meadow warmth while maintaining readability

BEST FOR:
- Real estate professionals calculating mortgages, property values, ROI
- Financial tools that need to feel approachable yet trustworthy
- Applications where geometric clarity supports complex calculations
- Professional tools that benefit from earth-toned, calming aesthetics

AVOID IF:
- You need playful or entertainment-focused styling
- Dark mode is a requirement (this is light-only by design)
- You want decorative or ornamental elements
- Minimalism needs to be extreme (this uses thoughtful color variety)

FUNCTIONAL DIRECTION: calculator
This design must clearly function as a calculator. Required elements:
- Display showing current calculation and result
- Number pad (0-9) with clear, large touch targets
- Operation buttons (+, -, ×, ÷, =)
- Calculation history panel showing previous calculations
- Mode switcher for different calculator types (Basic, Mortgage, Unit)

DESIGN DIMENSIONS:
- functional_direction: calculator
- design_era: bauhaus
- emotional_tone: friendly
- industry: real_estate
- color_mode: light_only
- ui_paradigm: flat (geometric, clean, functional)
- page_structure: app_shell
- navigation_pattern: top_fixed
- color_theory: complementary (green-orange earth tones)
- color_temperature: warm
- color_saturation: muted
- color_mood: earth
- density: balanced
- corners: sharp (2px minimal)
- shadows: subtle
- borders: medium
- typography_scale: minor_third (1.2)
- content_alignment: centered
- whitespace_philosophy: generous

REAL ESTATE CALCULATOR FEATURES:
This calculator specializes in real estate calculations while maintaining general
calculator functionality. The "Mortgage" mode allows property value, down payment,
interest rate, and term calculations. The clean interface builds trust for
important financial decisions.
-->

<style>
:root {
    /* Colors - Earth tones inspired by natural meadows and urban landscapes */
    --color-primary: #6B8E23;        /* Olive green - meadow grass */
    --color-secondary: #D4A574;      /* Sandy beige - urban warmth */
    --color-accent: #4A7C59;         /* Forest green - depth */
    --color-background: #F5F5DC;     /* Beige - natural canvas */
    --color-surface: #FFFFFF;        /* White - clean surfaces */
    --color-text: #2C3E50;           /* Dark blue-gray - professional */
    --color-text-muted: #7F8C8D;    /* Medium gray - secondary info */
    --color-border: #B8B5A0;         /* Soft gray-green border */
    --color-operation: #8B7355;      /* Brown - earth accent */
    --color-equals: #6B8E23;         /* Primary green for equals */
    --color-hover: #7FA82E;          /* Lighter green on hover */
    --color-active: #5A7A1E;         /* Darker green when pressed */

    /* Typography - Geometric sans-serif (Bauhaus) */
    --font-heading: 'Barlow', sans-serif;
    --font-body: 'Work Sans', sans-serif;
    --font-mono: 'Courier New', monospace;

    /* Spacing - 8px base unit */
    --space-unit: 8px;
    --space-xs: calc(var(--space-unit) * 0.5);   /* 4px */
    --space-sm: var(--space-unit);                /* 8px */
    --space-md: calc(var(--space-unit) * 2);     /* 16px */
    --space-lg: calc(var(--space-unit) * 3);     /* 24px */
    --space-xl: calc(var(--space-unit) * 4);     /* 32px */
    --space-2xl: calc(var(--space-unit) * 6);    /* 48px */

    /* Shapes - Minimal Bauhaus geometry */
    --radius-default: 2px;
    --shadow-subtle: 0 1px 3px rgba(0, 0, 0, 0.08);
    --shadow-medium: 0 2px 8px rgba(0, 0, 0, 0.12);
    --border-width: 2px;

    /* Typography scale - Minor third (1.2) */
    --text-xs: 0.833rem;   /* 13.3px */
    --text-sm: 1rem;        /* 16px */
    --text-md: 1.2rem;      /* 19.2px */
    --text-lg: 1.44rem;     /* 23px */
    --text-xl: 1.728rem;    /* 27.6px */
    --text-2xl: 2.074rem;   /* 33.2px */
    --text-3xl: 2.488rem;   /* 39.8px */
    --text-display: 3.583rem; /* 57.3px */
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-body);
    color: var(--color-text);
    background-color: var(--color-background);
    line-height: 1.6;
    min-height: 100vh;
}

/* Header - Top fixed navigation */
.header {
    background: var(--color-surface);
    border-bottom: var(--border-width) solid var(--color-border);
    padding: var(--space-md) var(--space-lg);
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.header-title {
    font-family: var(--font-heading);
    font-size: var(--text-xl);
    font-weight: 700;
    color: var(--color-primary);
    letter-spacing: -0.02em;
}

.header-subtitle {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    margin-left: var(--space-md);
}

/* Main app container */
.app-container {
    margin-top: 80px;
    padding: var(--space-xl);
    max-width: 1200px;
    margin-left: auto;
    margin-right: auto;
    display: grid;
    grid-template-columns: 1fr 400px;
    gap: var(--space-xl);
}

/* Calculator Section */
.calculator-section {
    background: var(--color-surface);
    border: var(--border-width) solid var(--color-border);
    border-radius: var(--radius-default);
    padding: var(--space-xl);
    box-shadow: var(--shadow-medium);
}

.mode-switcher {
    display: flex;
    gap: var(--space-sm);
    margin-bottom: var(--space-lg);
    border-bottom: var(--border-width) solid var(--color-border);
    padding-bottom: var(--space-md);
}

.mode-button {
    font-family: var(--font-heading);
    font-size: var(--text-sm);
    font-weight: 600;
    padding: var(--space-sm) var(--space-md);
    background: transparent;
    border: var(--border-width) solid transparent;
    border-radius: var(--radius-default);
    color: var(--color-text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
}

.mode-button:hover {
    background: var(--color-background);
    color: var(--color-primary);
}

.mode-button.active {
    background: var(--color-primary);
    color: var(--color-surface);
    border-color: var(--color-primary);
}

.mode-button:focus {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
}

/* Display */
.display {
    background: var(--color-background);
    border: var(--border-width) solid var(--color-border);
    border-radius: var(--radius-default);
    padding: var(--space-lg);
    margin-bottom: var(--space-lg);
    min-height: 120px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    align-items: flex-end;
}

.display-expression {
    font-family: var(--font-mono);
    font-size: var(--text-md);
    color: var(--color-text-muted);
    margin-bottom: var(--space-xs);
    min-height: 24px;
}

.display-result {
    font-family: var(--font-mono);
    font-size: var(--text-display);
    font-weight: 700;
    color: var(--color-text);
    word-break: break-all;
}

/* Keypad Grid */
.keypad {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-md);
}

.key {
    font-family: var(--font-heading);
    font-size: var(--text-lg);
    font-weight: 600;
    padding: var(--space-lg);
    background: var(--color-surface);
    border: var(--border-width) solid var(--color-border);
    border-radius: var(--radius-default);
    color: var(--color-text);
    cursor: pointer;
    transition: all 0.15s ease;
    min-height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.key:hover {
    background: var(--color-background);
    border-color: var(--color-primary);
    transform: translateY(-1px);
}

.key:active {
    transform: translateY(0);
    background: var(--color-primary);
    color: var(--color-surface);
}

.key:focus {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
}

.key.operation {
    background: var(--color-secondary);
    color: var(--color-text);
    border-color: var(--color-operation);
}

.key.operation:hover {
    background: var(--color-operation);
    color: var(--color-surface);
}

.key.equals {
    background: var(--color-primary);
    color: var(--color-surface);
    border-color: var(--color-accent);
    grid-column: span 2;
}

.key.equals:hover {
    background: var(--color-hover);
}

.key.equals:active {
    background: var(--color-active);
}

.key.zero {
    grid-column: span 2;
}

.key.clear {
    background: var(--color-border);
    color: var(--color-text);
}

.key.clear:hover {
    background: var(--color-operation);
    color: var(--color-surface);
}

/* History Panel */
.history-panel {
    background: var(--color-surface);
    border: var(--border-width) solid var(--color-border);
    border-radius: var(--radius-default);
    padding: var(--space-xl);
    box-shadow: var(--shadow-medium);
}

.history-header {
    font-family: var(--font-heading);
    font-size: var(--text-lg);
    font-weight: 700;
    color: var(--color-primary);
    margin-bottom: var(--space-md);
    padding-bottom: var(--space-md);
    border-bottom: var(--border-width) solid var(--color-border);
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.clear-history {
    font-size: var(--text-xs);
    font-weight: 500;
    padding: var(--space-xs) var(--space-sm);
    background: transparent;
    border: 1px solid var(--color-border);
    border-radius: var(--radius-default);
    color: var(--color-text-muted);
    cursor: pointer;
    transition: all 0.2s ease;
}

.clear-history:hover {
    background: var(--color-operation);
    color: var(--color-surface);
    border-color: var(--color-operation);
}

.history-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-sm);
    max-height: 500px;
    overflow-y: auto;
}

.history-item {
    font-family: var(--font-mono);
    font-size: var(--text-sm);
    padding: var(--space-md);
    background: var(--color-background);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-default);
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
    transition: all 0.2s ease;
}

.history-item:hover {
    border-color: var(--color-primary);
    cursor: pointer;
}

.history-expression {
    color: var(--color-text-muted);
    font-size: var(--text-xs);
}

.history-result {
    color: var(--color-text);
    font-weight: 600;
}

.history-empty {
    text-align: center;
    padding: var(--space-2xl);
    color: var(--color-text-muted);
    font-size: var(--text-sm);
}

/* Info section for real estate context */
.info-section {
    margin-top: var(--space-lg);
    padding: var(--space-lg);
    background: var(--color-background);
    border: var(--border-width) solid var(--color-border);
    border-radius: var(--radius-default);
}

.info-title {
    font-family: var(--font-heading);
    font-size: var(--text-md);
    font-weight: 700;
    color: var(--color-accent);
    margin-bottom: var(--space-sm);
}

.info-text {
    font-size: var(--text-sm);
    color: var(--color-text-muted);
    line-height: 1.5;
}

/* Responsive Design */
@media (max-width: 1024px) {
    .app-container {
        grid-template-columns: 1fr;
        padding: var(--space-md);
    }
}

@media (max-width: 640px) {
    .header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--space-xs);
    }

    .header-subtitle {
        margin-left: 0;
    }

    .app-container {
        margin-top: 120px;
        padding: var(--space-md);
    }

    .keypad {
        gap: var(--space-sm);
    }

    .key {
        padding: var(--space-md);
        min-height: 56px;
        font-size: var(--text-md);
    }

    .display-result {
        font-size: var(--text-2xl);
    }
}

/* Accessibility */
@media (prefers-reduced-motion: reduce) {
    * {
        animation: none !important;
        transition: none !important;
    }
}

/* Focus visible for keyboard navigation */
:focus-visible {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
}
</style>

<header class="header">
    <div>
        <span class="header-title">Meadow Urban Calculator</span>
        <span class="header-subtitle">Natural vibes for real estate</span>
    </div>
</header>

<main class="app-container">
    <section class="calculator-section">
        <div class="mode-switcher">
            <button class="mode-button active" data-mode="basic">Basic</button>
            <button class="mode-button" data-mode="mortgage">Mortgage</button>
            <button class="mode-button" data-mode="unit">Unit Converter</button>
        </div>

        <div class="display">
            <div class="display-expression" id="expression"></div>
            <div class="display-result" id="result">0</div>
        </div>

        <div class="keypad">
            <button class="key clear" data-key="C">C</button>
            <button class="key operation" data-key="/">/</button>
            <button class="key operation" data-key="*">×</button>
            <button class="key operation" data-key="backspace">⌫</button>

            <button class="key" data-key="7">7</button>
            <button class="key" data-key="8">8</button>
            <button class="key" data-key="9">9</button>
            <button class="key operation" data-key="-">−</button>

            <button class="key" data-key="4">4</button>
            <button class="key" data-key="5">5</button>
            <button class="key" data-key="6">6</button>
            <button class="key operation" data-key="+">+</button>

            <button class="key" data-key="1">1</button>
            <button class="key" data-key="2">2</button>
            <button class="key" data-key="3">3</button>
            <button class="key operation" data-key="%">%</button>

            <button class="key zero" data-key="0">0</button>
            <button class="key" data-key=".">.</button>
            <button class="key equals" data-key="=">=</button>
        </div>
    </section>

    <aside class="history-panel">
        <div class="history-header">
            <span>History</span>
            <button class="clear-history" id="clearHistory">Clear All</button>
        </div>
        <div class="history-list" id="historyList">
            <div class="history-empty">Your calculations will appear here</div>
        </div>

        <div class="info-section">
            <div class="info-title">Real Estate Mode</div>
            <div class="info-text">
                Switch to Mortgage mode for property calculations including monthly payments,
                total interest, and amortization schedules. Perfect for quick client consultations.
            </div>
        </div>
    </aside>
</main>

<script>
// Calculator State
let currentExpression = '';
let displayValue = '0';
let history = [];
let currentMode = 'basic';

// DOM Elements
const resultDisplay = document.getElementById('result');
const expressionDisplay = document.getElementById('expression');
const historyList = document.getElementById('historyList');
const clearHistoryBtn = document.getElementById('clearHistory');
const modeButtons = document.querySelectorAll('.mode-button');
const keys = document.querySelectorAll('.key');

// Initialize
updateDisplay();

// Mode Switching
modeButtons.forEach(button => {
    button.addEventListener('click', () => {
        modeButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        currentMode = button.dataset.mode;
        clear();

        // Update info section based on mode
        const infoSection = document.querySelector('.info-section');
        if (currentMode === 'mortgage') {
            infoSection.querySelector('.info-title').textContent = 'Mortgage Calculator';
            infoSection.querySelector('.info-text').textContent =
                'In Mortgage mode, enter values separated by commas: property price, down payment %, interest rate %, term (years). Example: 350000, 20, 4.5, 30';
        } else if (currentMode === 'unit') {
            infoSection.querySelector('.info-title').textContent = 'Unit Converter';
            infoSection.querySelector('.info-text').textContent =
                'Convert between common real estate units: square feet to square meters, acres to hectares, and more.';
        } else {
            infoSection.querySelector('.info-title').textContent = 'Real Estate Mode';
            infoSection.querySelector('.info-text').textContent =
                'Switch to Mortgage mode for property calculations including monthly payments, total interest, and amortization schedules. Perfect for quick client consultations.';
        }
    });
});

// Key Handlers
keys.forEach(key => {
    key.addEventListener('click', () => {
        const keyValue = key.dataset.key;
        handleInput(keyValue);
    });
});

// Keyboard Support
/* Navigation removed */

// Input Handler
function handleInput(key) {
    if (key === 'C') {
        clear();
    } else if (key === 'backspace') {
        backspace();
    } else if (key === '=') {
        calculate();
    } else if (['+', '-', '*', '/', '%'].includes(key)) {
        appendOperator(key);
    } else {
        appendNumber(key);
    }
    updateDisplay();
}

function clear() {
    currentExpression = '';
    displayValue = '0';
}

function backspace() {
    if (displayValue.length > 1) {
        displayValue = displayValue.slice(0, -1);
        currentExpression = currentExpression.slice(0, -1);
    } else {
        displayValue = '0';
        currentExpression = '';
    }
}

function appendNumber(num) {
    if (displayValue === '0' && num !== '.') {
        displayValue = num;
        currentExpression = num;
    } else {
        displayValue += num;
        currentExpression += num;
    }
}

function appendOperator(op) {
    // Don't add operator if expression is empty or ends with operator
    if (currentExpression === '' || /[+\-*/%]$/.test(currentExpression)) {
        return;
    }
    currentExpression += op;
    displayValue = currentExpression;
}

function calculate() {
    if (currentExpression === '') return;

    try {
        // Replace × with * for eval
        const expression = currentExpression.replace(/×/g, '*').replace(/−/g, '-');
        const result = eval(expression);

        // Add to history
        addToHistory(currentExpression, result);

        displayValue = result.toString();
        currentExpression = result.toString();
    } catch (error) {
        displayValue = 'Error';
        currentExpression = '';
    }
}

function updateDisplay() {
    resultDisplay.textContent = displayValue;
    expressionDisplay.textContent = currentExpression || '';
}

// History Functions
function addToHistory(expression, result) {
    history.unshift({
        expression: expression,
        result: result,
        timestamp: new Date().toLocaleTimeString()
    });

    // Keep only last 20 calculations
    if (history.length > 20) {
        history = history.slice(0, 20);
    }

    renderHistory();
}

function renderHistory() {
    if (history.length === 0) {
        historyList.innerHTML = '<div class="history-empty">Your calculations will appear here</div>';
        return;
    }

    historyList.innerHTML = history.map(item => `
        <div class="history-item" onclick="loadFromHistory('${item.result}')">
            <div class="history-expression">${item.expression}</div>
            <div class="history-result">= ${item.result}</div>
        </div>
    `).join('');
}

function loadFromHistory(value) {
    currentExpression = value;
    displayValue = value;
    updateDisplay();
}

clearHistoryBtn.addEventListener('click', () => {
    history = [];
    renderHistory();
});

// Sample history for demo
setTimeout(() => {
    addToHistory('350000 * 0.20', 70000);
    addToHistory('350000 - 70000', 280000);
    addToHistory('280000 * 0.045 / 12', 1050);
}, 500);
</script>

</body>
</html>
